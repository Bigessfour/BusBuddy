2025-05-09 21:32:49.360 -06:00 [INF]  Application starting up
2025-05-09 21:32:49.423 -06:00 [INF]  Services configured
2025-05-09 21:32:49.762 -06:00 [INF] BusBuddy.Forms.Dashboard Dashboard constructor completed successfully
2025-05-09 21:32:49.771 -06:00 [INF] BusBuddy.Forms.Dashboard Dashboard Load event starting
2025-05-09 21:32:49.771 -06:00 [INF] BusBuddy.Forms.Dashboard Verifying required services
2025-05-09 21:32:49.771 -06:00 [INF] BusBuddy.Forms.Dashboard All required services verified
2025-05-09 21:32:49.771 -06:00 [INF] BusBuddy.Forms.Dashboard Setting up custom controls
2025-05-09 21:32:49.773 -06:00 [INF] BusBuddy.Forms.Dashboard Custom controls setup complete
2025-05-09 21:32:49.774 -06:00 [INF] BusBuddy.Forms.Dashboard Initializing standard menus
2025-05-09 21:32:49.774 -06:00 [INF] BusBuddy.Forms.Dashboard Standard menus initialized
2025-05-09 21:32:49.808 -06:00 [INF] BusBuddy.Forms.Dashboard Dashboard Load event completed
2025-05-09 21:32:49.810 -06:00 [INF] BusBuddy.Forms.Dashboard Dashboard shown to user
2025-05-09 21:50:54.592 -06:00 [INF]  Application starting up
2025-05-09 21:50:54.657 -06:00 [INF]  Services configured
2025-05-09 21:50:54.896 -06:00 [INF] BusBuddy.Forms.Dashboard Dashboard constructor completed successfully
2025-05-09 21:50:54.905 -06:00 [INF] BusBuddy.Forms.Dashboard Dashboard Load event starting
2025-05-09 21:50:54.905 -06:00 [INF] BusBuddy.Forms.Dashboard Verifying required services
2025-05-09 21:50:54.905 -06:00 [INF] BusBuddy.Forms.Dashboard All required services verified
2025-05-09 21:50:54.905 -06:00 [INF] BusBuddy.Forms.Dashboard Setting up custom controls
2025-05-09 21:50:54.906 -06:00 [INF] BusBuddy.Forms.Dashboard Custom controls setup complete
2025-05-09 21:50:54.906 -06:00 [INF] BusBuddy.Forms.Dashboard Initializing standard menus
2025-05-09 21:50:54.906 -06:00 [INF] BusBuddy.Forms.Dashboard Standard menus initialized
2025-05-09 21:50:54.940 -06:00 [INF] BusBuddy.Forms.Dashboard Dashboard Load event completed
2025-05-09 21:50:54.943 -06:00 [INF] BusBuddy.Forms.Dashboard Dashboard shown to user
2025-05-09 21:51:28.302 -06:00 [INF]  Application starting up
2025-05-09 21:51:28.366 -06:00 [INF]  Services configured
2025-05-09 21:51:28.856 -06:00 [WRN] Microsoft.EntityFrameworkCore.Model.Validation No store type was specified for the decimal property 'PricePerGallon' on entity type 'FuelEntry'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-09 21:51:28.858 -06:00 [WRN] Microsoft.EntityFrameworkCore.Model.Validation No store type was specified for the decimal property 'TotalCost' on entity type 'FuelEntry'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-09 21:51:29.342 -06:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (223ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
CREATE DATABASE [BusBuddy];
2025-05-09 21:51:29.386 -06:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (42ms) [Parameters=[], CommandType='"Text"', CommandTimeout='60']
IF SERVERPROPERTY('EngineEdition') <> 5
BEGIN
    ALTER DATABASE [BusBuddy] SET READ_COMMITTED_SNAPSHOT ON;
END;
2025-05-09 21:51:29.398 -06:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-05-09 21:51:29.458 -06:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Drivers] (
    [Id] int NOT NULL IDENTITY,
    [FirstName] nvarchar(max) NOT NULL,
    [LastName] nvarchar(max) NOT NULL,
    [LicenseNumber] nvarchar(max) NOT NULL,
    [LicenseExpiration] datetime2 NOT NULL,
    [PhoneNumber] nvarchar(max) NOT NULL,
    [Email] nvarchar(max) NOT NULL,
    [CreatedDate] datetime2 NOT NULL,
    CONSTRAINT [PK_Drivers] PRIMARY KEY ([Id])
);
2025-05-09 21:51:29.459 -06:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [LogEntries] (
    [Id] int NOT NULL IDENTITY,
    [Timestamp] datetime2 NOT NULL,
    [Level] nvarchar(max) NOT NULL,
    [Message] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_LogEntries] PRIMARY KEY ([Id])
);
2025-05-09 21:51:29.460 -06:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Parts] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    [PartNumber] nvarchar(max) NOT NULL,
    [UnitPrice] decimal(18,2) NOT NULL,
    CONSTRAINT [PK_Parts] PRIMARY KEY ([Id])
);
2025-05-09 21:51:29.461 -06:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Routes] (
    [Id] int NOT NULL IDENTITY,
    [RouteName] nvarchar(max) NOT NULL,
    [Description] nvarchar(max) NULL,
    [StartLocation] nvarchar(max) NOT NULL,
    [EndLocation] nvarchar(max) NOT NULL,
    [Distance] decimal(18,2) NOT NULL,
    [CreatedDate] datetime2 NOT NULL,
    [LastModified] datetime2 NOT NULL,
    CONSTRAINT [PK_Routes] PRIMARY KEY ([Id])
);
2025-05-09 21:51:29.465 -06:00 [ERR] Microsoft.EntityFrameworkCore.Database.Command Failed executing DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [RouteData] (
    [Id] int NOT NULL IDENTITY,
    [RouteId] int NOT NULL,
    [Date] datetime2 NOT NULL,
    [AMDriverId] int NULL,
    [PMDriverId] int NULL,
    [AMStartMileage] decimal(18,2) NOT NULL,
    [AMEndMileage] decimal(18,2) NOT NULL,
    [PMStartMileage] decimal(18,2) NOT NULL,
    [PMEndMileage] decimal(18,2) NOT NULL,
    CONSTRAINT [PK_RouteData] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_RouteData_Drivers_AMDriverId] FOREIGN KEY ([AMDriverId]) REFERENCES [Drivers] ([Id]) ON DELETE SET NULL,
    CONSTRAINT [FK_RouteData_Drivers_PMDriverId] FOREIGN KEY ([PMDriverId]) REFERENCES [Drivers] ([Id]) ON DELETE SET NULL
);
2025-05-09 21:51:29.467 -06:00 [FTL]  Application terminated unexpectedly
Microsoft.Data.SqlClient.SqlException (0x80131904): Introducing FOREIGN KEY constraint 'FK_RouteData_Drivers_PMDriverId' on table 'RouteData' may cause cycles or multiple cascade paths. Specify ON DELETE NO ACTION or ON UPDATE NO ACTION, or modify other FOREIGN KEY constraints.
Could not create constraint or index. See previous errors.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteNonQueryTds(String methodName, Boolean isAsync, Int32 timeout, Boolean asyncWrite)
   at Microsoft.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String methodName)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQuery(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Migrations.MigrationCommand.ExecuteNonQuery(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQuery(IEnumerable`1 migrationCommands, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabaseCreator.CreateTables()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabaseCreator.EnsureCreated()
   at Microsoft.EntityFrameworkCore.Infrastructure.DatabaseFacade.EnsureCreated()
   at BusBuddy.Program.Main() in C:\Users\steve.mckitrick\Desktop\BusBuddy\BusBuddy\Program.cs:line 47
ClientConnectionId:e8cd320f-2e7e-411c-88a7-c6cb016662e7
Error Number:1785,State:0,Class:16
