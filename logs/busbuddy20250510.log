2025-05-10 00:13:42.298 -06:00 [INF]  Application starting up
2025-05-10 00:13:42.360 -06:00 [INF]  Services configured
2025-05-10 00:13:42.903 -06:00 [WRN] Microsoft.EntityFrameworkCore.Model.Validation No store type was specified for the decimal property 'PricePerGallon' on entity type 'FuelEntry'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-10 00:13:42.905 -06:00 [WRN] Microsoft.EntityFrameworkCore.Model.Validation No store type was specified for the decimal property 'TotalCost' on entity type 'FuelEntry'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-10 00:13:43.324 -06:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (10ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-05-10 00:13:43.387 -06:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (56ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']

IF EXISTS
    (SELECT *
     FROM [sys].[objects] o
     WHERE [o].[type] = 'U'
     AND [o].[is_ms_shipped] = 0
     AND NOT EXISTS (SELECT *
         FROM [sys].[extended_properties] AS [ep]
         WHERE [ep].[major_id] = [o].[object_id]
             AND [ep].[minor_id] = 0
             AND [ep].[class] = 1
             AND [ep].[name] = N'microsoft_database_tools_support'
    )
)
SELECT 1 ELSE SELECT 0
2025-05-10 00:13:43.418 -06:00 [WRN] Microsoft.EntityFrameworkCore.Model.Validation No store type was specified for the decimal property 'PricePerGallon' on entity type 'FuelEntry'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-10 00:13:43.418 -06:00 [WRN] Microsoft.EntityFrameworkCore.Model.Validation No store type was specified for the decimal property 'TotalCost' on entity type 'FuelEntry'. This will cause values to be silently truncated if they do not fit in the default precision and scale. Explicitly specify the SQL server column type that can accommodate all the values in 'OnModelCreating' using 'HasColumnType', specify precision and scale using 'HasPrecision', or configure a value converter using 'HasConversion'.
2025-05-10 00:13:43.487 -06:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Drivers] (
    [Id] int NOT NULL IDENTITY,
    [FirstName] nvarchar(max) NOT NULL,
    [LastName] nvarchar(max) NOT NULL,
    [LicenseNumber] nvarchar(max) NOT NULL,
    [LicenseExpiration] datetime2 NOT NULL,
    [PhoneNumber] nvarchar(max) NOT NULL,
    [Email] nvarchar(max) NOT NULL,
    [CreatedDate] datetime2 NOT NULL,
    CONSTRAINT [PK_Drivers] PRIMARY KEY ([Id])
);
2025-05-10 00:13:43.488 -06:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [LogEntries] (
    [Id] int NOT NULL IDENTITY,
    [Timestamp] datetime2 NOT NULL,
    [Level] nvarchar(max) NOT NULL,
    [Message] nvarchar(max) NOT NULL,
    CONSTRAINT [PK_LogEntries] PRIMARY KEY ([Id])
);
2025-05-10 00:13:43.489 -06:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Parts] (
    [Id] int NOT NULL IDENTITY,
    [Name] nvarchar(max) NOT NULL,
    [PartNumber] nvarchar(max) NOT NULL,
    [UnitPrice] decimal(18,2) NOT NULL,
    CONSTRAINT [PK_Parts] PRIMARY KEY ([Id])
);
2025-05-10 00:13:43.490 -06:00 [INF] Microsoft.EntityFrameworkCore.Database.Command Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [Routes] (
    [Id] int NOT NULL IDENTITY,
    [RouteName] nvarchar(max) NOT NULL,
    [Description] nvarchar(max) NULL,
    [StartLocation] nvarchar(max) NOT NULL,
    [EndLocation] nvarchar(max) NOT NULL,
    [Distance] decimal(18,2) NOT NULL,
    [CreatedDate] datetime2 NOT NULL,
    [LastModified] datetime2 NOT NULL,
    CONSTRAINT [PK_Routes] PRIMARY KEY ([Id])
);
2025-05-10 00:13:43.495 -06:00 [ERR] Microsoft.EntityFrameworkCore.Database.Command Failed executing DbCommand (5ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
CREATE TABLE [RouteData] (
    [Id] int NOT NULL IDENTITY,
    [RouteId] int NOT NULL,
    [Date] datetime2 NOT NULL,
    [AMDriverId] int NULL,
    [PMDriverId] int NULL,
    [AMStartMileage] decimal(18,2) NOT NULL,
    [AMEndMileage] decimal(18,2) NOT NULL,
    [PMStartMileage] decimal(18,2) NOT NULL,
    [PMEndMileage] decimal(18,2) NOT NULL,
    CONSTRAINT [PK_RouteData] PRIMARY KEY ([Id]),
    CONSTRAINT [FK_RouteData_Drivers_AMDriverId] FOREIGN KEY ([AMDriverId]) REFERENCES [Drivers] ([Id]) ON DELETE SET NULL,
    CONSTRAINT [FK_RouteData_Drivers_PMDriverId] FOREIGN KEY ([PMDriverId]) REFERENCES [Drivers] ([Id]) ON DELETE SET NULL
);
2025-05-10 00:13:43.498 -06:00 [FTL]  Application terminated unexpectedly
Microsoft.Data.SqlClient.SqlException (0x80131904): Introducing FOREIGN KEY constraint 'FK_RouteData_Drivers_PMDriverId' on table 'RouteData' may cause cycles or multiple cascade paths. Specify ON DELETE NO ACTION or ON UPDATE NO ACTION, or modify other FOREIGN KEY constraints.
Could not create constraint or index. See previous errors.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlCommand.RunExecuteNonQueryTds(String methodName, Boolean isAsync, Int32 timeout, Boolean asyncWrite)
   at Microsoft.Data.SqlClient.SqlCommand.InternalExecuteNonQuery(TaskCompletionSource`1 completion, Boolean sendToPipe, Int32 timeout, Boolean& usedCache, Boolean asyncWrite, Boolean inRetry, String methodName)
   at Microsoft.Data.SqlClient.SqlCommand.ExecuteNonQuery()
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteNonQuery(RelationalCommandParameterObject parameterObject)
   at Microsoft.EntityFrameworkCore.Migrations.MigrationCommand.ExecuteNonQuery(IRelationalConnection connection, IReadOnlyDictionary`2 parameterValues)
   at Microsoft.EntityFrameworkCore.Migrations.Internal.MigrationCommandExecutor.ExecuteNonQuery(IEnumerable`1 migrationCommands, IRelationalConnection connection)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabaseCreator.CreateTables()
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabaseCreator.EnsureCreated()
   at Microsoft.EntityFrameworkCore.Infrastructure.DatabaseFacade.EnsureCreated()
   at BusBuddy.Program.Main() in C:\Users\steve.mckitrick\Desktop\BusBuddy\BusBuddy\Program.cs:line 47
ClientConnectionId:245e4fcf-7ac4-4b54-bc68-a8bb85cb2ede
Error Number:1785,State:0,Class:16
